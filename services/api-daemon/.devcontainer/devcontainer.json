// For format details, see https://aka.ms/vscode-remote/devcontainer.json or the definition README at
// https://github.com/microsoft/vscode-dev-containers/tree/master/containers/ruby-2-rails-5
{
  "name": "api-daemon",
  "dockerFile": "Dockerfile",
  // Uncomment the next line if you want to publish any ports.
  "appPort": [
    "3000:3000"
  ],
  // Uncomment the next line if you want to add in default container specific settings.json values
  // "settings":  { "workbench.colorTheme": "Quiet Light" },
  // Uncomment the next line to run commands after the container is created.
  "postCreateCommand": "cd /workspaces/feeld-recruitment-task/services/api-daemon && curl -o- -L https://yarnpkg.com/install.sh | bash && . ~/.bashrc && gem update --system && gem update fileutils --default && gem update && bundle install && bundle exec yard config --gem-install-yri --gem-install-yard && bundle exec yard gems --rebuild --verbose && bundle binstubs --all && spring binstub --all && yarn install && echo 'ready!'",
  // Uncomment the next line to use a non-root user. See https://aka.ms/vscode-remote/containers/non-root-user.
  // "runArgs": [ "-u", "1000" ],
  "extensions": [
    "rebornix.Ruby"
  ]
}
